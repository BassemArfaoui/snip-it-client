<div class="min-h-screen bg-background-light dark:bg-background-dark">
  <div class="mx-auto max-w-[1400px] px-4">
    <div class="flex gap-6">
      <!-- Left menu (dashboard style) -->
      <aside class="w-64 shrink-0 py-6">
        <div class="sticky top-6">
          <a routerLink="/" class="flex items-center gap-3 text-text-main dark:text-white">
            <div class="bg-primary p-1.5 rounded-lg text-black">
              <span class="material-symbols-outlined">code</span>
            </div>
            <h2 class="text-lg font-bold tracking-tight">Snip-it</h2>
          </a>

          @if (isLoggedIn()) {
            <nav class="mt-6 space-y-1" aria-label="Main">
              <a
                routerLink="/"
                [routerLinkActiveOptions]="{ exact: true }"
                routerLinkActive="bg-white/70 dark:bg-white/10 text-text-main dark:text-white"
                class="block rounded-lg px-3 py-2 text-sm font-medium text-text-muted hover:bg-white/50 dark:hover:bg-white/10 hover:text-text-main dark:hover:text-white transition-colors"
              >
                Feed
              </a>
              <a
                routerLink="/issues"
                routerLinkActive="bg-white/70 dark:bg-white/10 text-text-main dark:text-white"
                class="block rounded-lg px-3 py-2 text-sm font-medium text-text-muted hover:bg-white/50 dark:hover:bg-white/10 hover:text-text-main dark:hover:text-white transition-colors"
              >
                Issues
              </a>
              <a
                routerLink="/collections"
                routerLinkActive="bg-white/70 dark:bg-white/10 text-text-main dark:text-white"
                class="block rounded-lg px-3 py-2 text-sm font-medium text-text-muted hover:bg-white/50 dark:hover:bg-white/10 hover:text-text-main dark:hover:text-white transition-colors"
              >
                Saves
              </a>
              <a
                routerLink="/snippets"
                routerLinkActive="bg-white/70 dark:bg-white/10 text-text-main dark:text-white"
                class="block rounded-lg px-3 py-2 text-sm font-medium text-text-muted hover:bg-white/50 dark:hover:bg-white/10 hover:text-text-main dark:hover:text-white transition-colors"
              >
                Private Snippets
              </a>
              @if (userId()) {
                <a
                  [routerLink]="['/profile', userId()]"
                  routerLinkActive="bg-white/70 dark:bg-white/10 text-text-main dark:text-white"
                  class="block rounded-lg px-3 py-2 text-sm font-medium text-text-muted hover:bg-white/50 dark:hover:bg-white/10 hover:text-text-main dark:hover:text-white transition-colors"
                >
                  Profile
                </a>
              }
            </nav>

            <div class="mt-8 pt-6 border-t border-[#f5f5f0] dark:border-white/10">
              <div class="flex items-center justify-between gap-3">
                <span class="min-w-0 truncate text-sm text-text-muted font-semibold">{{ username() }}</span>
                <button
                  (click)="handleLogout()"
                  class="shrink-0 text-sm font-medium text-text-muted hover:text-primary transition-colors"
                >
                  Log out
                </button>
              </div>
            </div>
          } @else {
            <div class="mt-6 space-y-3">
              <a
                routerLink="/login"
                routerLinkActive="bg-white/70 dark:bg-white/10"
                class="block rounded-lg px-3 py-2 text-sm font-medium text-text-muted hover:bg-white/50 dark:hover:bg-white/10 hover:text-text-main dark:hover:text-white transition-colors"
              >
                Log in
              </a>
              <a
                routerLink="/signup"
                routerLinkActive="bg-primary text-black"
                class="block rounded-lg px-3 py-2 text-sm font-semibold bg-primary text-black hover:bg-[#e6e205] transition-colors"
              >
                Sign up
              </a>
            </div>
          }
        </div>
      </aside>

      <!-- Center content -->
      <main class="min-w-0 flex-1 py-6">
        <router-outlet></router-outlet>
      </main>
    </div>
  </div>
</div>
